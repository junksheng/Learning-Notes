---
layout: posts
title: 廖雪峰Git教程01-git简介
date: 2020-05-17 10:03:21
author: JunkSheng
img: /images/git.jpg
top: false
cover: false
coverImg: /images/git.jpg
toc: false
mathjax: false
summary: Git诞生, 集中式vs分布式, 安装Git, 创建版本库, 小结
categories: Git
tags:
  - Git
  - LiaoXueFeng_GitCourse
---

[Git简介](https://www.liaoxuefeng.com/wiki/896043488029600/896067008724000)

### Git

Git是目前世界上最先进的分布式版本控制系统(没有之一). 



### Git诞生

由于Linus不满`CVS`等集中式版本控制系统, 并被BitMover公司威胁收回BitKeeper的免费使用权, Linus花了两周时间用`C`写出了`Git`. 



### 集中式 vs 分布式

集中式版本控制系统, 版本库是集中存放在中央服务器的, 而干活的时候, 用的都是自己的电脑, 所以要先从中央服务器取得最新的版本, 然后开始干活, 干完活了, 再把自己的活推送给中央服务器. 

**最大的缺点:** 必须联网才能工作. 



分布式版本控制系统根本没有"中央服务器", 每个人的电脑上都是一个完整的版本库, 这样, 你工作的时候, 就不需要联网了, 因为版本库就在你自己的电脑上. 

既然每个人电脑上都有一个完整的版本库, 那多个人如何协作呢？比方说你在自己电脑上改了文件`A`, 你的同事也在他的电脑上改了文件`A`, 这时, 你们俩之间只需把各自的修改推送给对方, 就可以互相看到对方的修改了. 

**分布式优点:** 安全性高, 不用必须联网

在实际使用分布式版本控制系统的时候, 其实很少在两人之间的电脑上推送版本库的修改, 因为可能你们俩不在一个局域网内, 两台电脑互相访问不了, 也可能今天你的同事病了, 他的电脑压根没有开机. 因此, 分布式版本控制系统通常也有一台充当"中央服务器"的电脑, 但这个服务器的作用仅仅是用来方便"交换"大家的修改, 没有它大家也一样干活, 只是交换修改不方便而已. 

**Git还有强大的分支管理**



### 安装Git

这个不需要教程了吧, `Linux`一条命令, `Windows`下载安装包安装. 

安装完成后, 设置`Git`:

```shell
$ git config --global user.name "Your Name"
$ git config --global user.email "email@example.com"
```

因为`Git`是分布式系统, 所以必须自报家门: 你的姓名和`Email`地址. 

`--global`参数表示你这台机器上所有`Git`仓库都会使用这个配置, 当然也可以对某个仓库指定不同的用户名和`Email`地址, 在仓库里面使用`git config`命令, 不带`--global`就好了. 



### 创建版本库

又名仓库, `repository`, 在这个目录下所有文件都可以被Git管理起来, 每个文件的修改, 删除, Git都能跟踪, 以便任何时刻都可以追踪历史, 或者在将来某个时刻可以还原. 

> Windows系统,确保目录名, 包括父目录不包含英文, 以免出现莫名其妙的问题

```shell
$ git init
Initialized empty Git repository in /Users/michael/learngit/.git/
```

在某个目录下创建(初始化)一个`Git`仓库. 



#### 把文件添加到版本库

首先这里再明确一下，所有的版本控制系统，其实只能跟踪文本文件的改动，比如TXT文件，网页，所有的程序代码等等，Git也不例外。版本控制系统可以告诉你每次的改动，比如在第5行加了一个单词“Linux”，在第8行删了一个单词“Windows”。而图片、视频这些二进制文件，虽然也能由版本控制系统管理，但没法跟踪文件的变化，只能把二进制文件每次改动串起来，也就是只知道图片从100KB改成了120KB，但到底改了啥，版本控制系统不知道，也没法知道。

不幸的是，Microsoft的Word格式是二进制格式，因此，版本控制系统是没法跟踪Word文件的改动的，前面我们举的例子只是为了演示，如果要真正使用版本控制系统，就要以纯文本方式编写文件。

因为文本是有编码的，比如中文有常用的GBK编码，日文有Shift_JIS编码，如果没有历史遗留问题，强烈建议使用标准的UTF-8编码，所有语言使用同一种编码，既没有冲突，又被所有平台所支持。



> 千万不要使用Windows自带的**记事本**编辑任何文本文件。原因是Microsoft开发记事本的团队使用了一个非常弱智的行为来保存UTF-8编码的文件，他们自作聪明地在每个文件开头添加了0xefbbbf（十六进制）的字符，你会遇到很多不可思议的问题，比如，网页第一行可能会显示一个“?”，明明正确的程序一编译就报语法错误，等等，都是由记事本的弱智行为带来的。



在刚才初始化的仓库目录下创建一个文件, 比如`readme.txt`. 

这里只是创建了文件, 但是还没有把`readme.txt`放进`Git`仓库. 

把一个文件放进`Git`只需要两步. 

1. 用命令`git add`告诉Git, 把文件添加到仓库. 

   ```shell
   git add readme.txt
   ```

   

2. 用命令`git commit`告诉`Git`, 把文件提交到仓库:

   ```shell
   git commit -m "wrote a reame file"
   ```

   `git commit`命令, `-m`后面输入的是本次提交的说明. 虽然可以不填, 但是不建议, 这是一个良好习惯. 

   `git commit`执行成功会告诉你被改动了几个文件, 修改了几行内容. 

为什么需要`add`, `commit`两步呢?

​	因为`commit`可以一次提交很多文件, 所以你可以多次`add`不同的文件, 比如: 

```shell
$ git add file1.txt
$ git add file2.txt file3.txt
$ git commit -m "add 3 files."
```



### 小结

现在总结一下今天学的两点内容：

初始化一个Git仓库，使用`git init`命令。

添加文件到Git仓库，分两步：

1. 使用命令`git add `，注意，可反复多次使用，添加多个文件；
2. 使用命令`git commit -m "summary" `，完成。